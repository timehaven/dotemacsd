<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2017-04-24 Mon 18:53 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ryan Woodard's Emacs configuration</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Ryan Woodard" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Ryan Woodard's Emacs configuration</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org565503a">1. Preamble</a>
<ul>
<li><a href="#orgbcd8342">1.1. Which machine, OS</a></li>
<li><a href="#org672ee06">1.2. Readability</a></li>
<li><a href="#orgc8d5458">1.3. It's all about the org</a></li>
</ul>
</li>
<li><a href="#org3688435">2. Configuration</a>
<ul>
<li><a href="#org56bb208">2.1. About this file</a></li>
<li><a href="#org847b4e9">2.2. Starting up</a></li>
<li><a href="#orgff3a115">2.3. Personal information</a></li>
<li><a href="#org23d4e64">2.4. Emacs initialization</a>
<ul>
<li><a href="#org6f6032a">2.4.1. Add package sources</a></li>
<li><a href="#org8dccaca">2.4.2. Add my elisp directory and other files</a></li>
<li><a href="#org74abbc6">2.4.3. Load secrets</a></li>
<li><a href="#org40a3dc4">2.4.4. Magit - nice git interface</a></li>
<li><a href="#org11aa060">2.4.5. Mode line format</a></li>
<li><a href="#org0495cbe">2.4.6. Change "yes or no" to "y or n"</a></li>
<li><a href="#org2b9d3df">2.4.7. Minibuffer editing - more space!</a></li>
<li><a href="#org953f213">2.4.8. Set up a light-on-dark color scheme</a></li>
<li><a href="#orgc2707c7">2.4.9. Some old favorite keys of mine (rw)</a></li>
<li><a href="#org6c65623">2.4.10. Bells and whistles, and menus</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org1ab1f4d">3. Just trying things out</a>
<ul>
<li><a href="#orga73c2bc">3.1. org mode structure templates (<code>&lt;s</code> things)</a></li>
</ul>
</li>
<li><a href="#org9e10be4">4. Make sure source code packages (org) have latest Info</a></li>
<li><a href="#org95c3bbd">5. Python</a></li>
</ul>
</div>
</div>
<p>
We dearly thank <a href="http://sachachua.com">Sacha Chua</a> for <a href="http://sachachua.com/dotemacs">this file</a>, vision and general great
stuff.  She is wonderful.
</p>

<div id="outline-container-org565503a" class="outline-2">
<h2 id="org565503a"><span class="section-number-2">1</span> Preamble</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orgbcd8342" class="outline-3">
<h3 id="orgbcd8342"><span class="section-number-3">1.1</span> Which machine, OS</h3>
<div class="outline-text-3" id="text-1-1">
<div class="org-src-container">
<pre><code class="src src-emacs-lisp"><span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">check OS type</span>
(<span style="color: #859900;">setq</span> is-linux nil)
(<span style="color: #859900;">setq</span> is-mac nil)
(<span style="color: #859900;">cond</span>
 ((string-equal system-type <span style="color: #2aa198; background-color: #000000;">"darwin"</span>) <span style="color: #586e75; font-style: italic;">; </span><span style="color: #586e75; font-style: italic;">Mac OS X</span>
  (<span style="color: #859900;">progn</span>
    (message <span style="color: #2aa198; background-color: #000000;">"Mac OS X"</span>)
    (<span style="color: #859900;">setq</span> is-mac t)))
 ((string-equal system-type <span style="color: #2aa198; background-color: #000000;">"gnu/linux"</span>) <span style="color: #586e75; font-style: italic;">; </span><span style="color: #586e75; font-style: italic;">linux</span>
  (<span style="color: #859900;">progn</span>
    (message <span style="color: #2aa198; background-color: #000000;">"Linux"</span>)
    (<span style="color: #859900;">setq</span> is-linux t))))
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="src src-emacs-lisp"><span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">check emacs version</span>
(<span style="color: #859900;">if</span> (version&lt; emacs-version <span style="color: #2aa198; background-color: #000000;">"25.1"</span>)
    ((message <span style="color: #2aa198; background-color: #000000;">"Old Emacs, YMMV"</span>)
     (kill-emacs))
  (message <span style="color: #2aa198; background-color: #000000;">"Why not try 26.1?"</span>))
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="src src-emacs-lisp">(message <span style="color: #2aa198; background-color: #000000;">"Spinning up %s@%s using %s"</span>
         system-name
         user-login-name
         <span style="color: #586e75; font-style: italic;">;;</span><span style="color: #586e75; font-style: italic;">user-emacs-directory</span>
         user-init-file)
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org672ee06" class="outline-3">
<h3 id="org672ee06"><span class="section-number-3">1.2</span> Readability</h3>
<div class="outline-text-3" id="text-1-2">
<div class="org-src-container">
<pre><code class="src src-emacs-lisp"><span style="color: #586e75; font-style: italic;">;;  </span><span style="color: #586e75; font-style: italic;">t for a termcap frame (a character-only terminal),</span>
<span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">&#8216;x&#8217; for an Emacs frame that is really an X window,</span>
<span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">&#8216;</span><span style="color: #586e75; font-style: italic;">w32</span><span style="color: #586e75; font-style: italic;">&#8217; for an Emacs frame that is a window on MS-Windows display,</span>
<span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">&#8216;</span><span style="color: #586e75; font-style: italic;">ns</span><span style="color: #586e75; font-style: italic;">&#8217; for an Emacs frame on a GNUstep or Macintosh Cocoa display,</span>
</code></pre>
</div>

<p>
All must be readable for when anything below crashes:
</p>

<div class="org-src-container">
<pre><code class="src src-emacs-lisp"><span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">Readability counts.</span>
<span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">`C-x C-+&#8217; and &#8216;C-x C--&#8217;</span>
<span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">C-x C-0 to reset.</span>
(<span style="color: #859900;">when</span> (eq is-linux t)
  <span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">Readable font</span>
  (set-face-attribute 'default nil <span style="color: #859900;">:height</span> 260)
  )

(<span style="color: #859900;">when</span> (eq is-mac t)

  <span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">Macbook built-in display.</span>
  (<span style="color: #859900;">when</span> (eq window-system 'ns)
    <span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">On Mac, use Command-t to bring up font menu.</span>
    (set-face-attribute 'default nil <span style="color: #859900;">:height</span> 240)
    (add-to-list 'initial-frame-alist '(height . 33))
    (add-to-list 'initial-frame-alist '(width . 80))
    (add-to-list 'default-frame-alist '(height . 33))
    (add-to-list 'default-frame-alist '(width . 80))))
</code></pre>
</div>

<p>
Note that all the <code>#+BEGIN_SRC</code> blocks are indented in this <code>.org</code>
file but not in the tangled <code>.el</code> output.  Monkey around with that
using <code>org-edit-src-content-indentation</code> and
<code>org-src-preserve-indentation</code>. 
</p>
</div>
</div>

<div id="outline-container-orgc8d5458" class="outline-3">
<h3 id="orgc8d5458"><span class="section-number-3">1.3</span> It's all about the org</h3>
<div class="outline-text-3" id="text-1-3">
<p>
For me, everything is now about <code>org mode</code> and, therefore, keeping the
bleeding edge development github version, so I'm following:
</p>

<p>
<a href="http://orgmode.org/worg/org-faq.html#keeping-current-with-Org-mode-development">http://orgmode.org/worg/org-faq.html#keeping-current-with-Org-mode-development</a>
</p>

<p>
My only difference is <code>$HOME/.emacs.d/elisp</code> instead of <code>$HOME/elisp</code>.
Therefore, I:
</p>

<div class="org-src-container">
<pre><code class="src src-sh">sudo apt-get install emacs25-common-non-dfsg install-info <span style="color: #2aa198; background-color: #000000;">\</span>
     texi2html texinfo texinfo-doc-nonfree
mkdir $<span style="color: #268bd2;">HOME</span>/.emacs.d/elisp &amp;&amp; <span style="color: #859900;">cd</span> $<span style="color: #268bd2;">HOME</span>/.emacs.d/elisp
git clone git://orgmode.org/org-mode.git
<span style="color: #859900;">cd</span> org-mode &amp;&amp; make
</code></pre>
</div>

<p>
Need to point to where updated Info is.  Need to do shell env hack:
</p>

<div class="org-src-container">
<pre><code class="src src-sh"><span style="color: #859900;">export</span> <span style="color: #268bd2;">INFOPATH</span>=$<span style="color: #268bd2;">HOME</span>/.emacs.d/elisp/org-mode/doc:$<span style="color: #268bd2;">INFOPATH</span>
</code></pre>
</div>

<p>
even though the following <a href="http://orgmode.org/worg/org-faq.html#keeping-current-with-Org-mode-development">from here</a> should work (it doesn't seem to):
</p>

<div class="org-src-container">
<pre><code class="src src-emacs-lisp"><span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">Info directory</span>
(<span style="color: #859900;">setq</span> Info-additional-directory-list
      (cons (expand-file-name <span style="color: #2aa198; background-color: #000000;">"~/.emacs.d/elisp/org-mode/doc"</span>)
            Info-default-directory-list))
</code></pre>
</div>

<p>
To update occasionally:
</p>

<div class="org-src-container">
<pre><code class="src src-sh"><span style="color: #859900;">cd</span> $<span style="color: #268bd2;">HOME</span>/elisp/org-mode &amp;&amp; make up2
git log  <span style="color: #586e75; font-style: italic;"># </span><span style="color: #586e75; font-style: italic;">to see what has changed</span>
git gc  <span style="color: #586e75; font-style: italic;"># </span><span style="color: #586e75; font-style: italic;">to clean things up, keep dir smaller</span>
</code></pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3688435" class="outline-2">
<h2 id="org3688435"><span class="section-number-2">2</span> Configuration</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org56bb208" class="outline-3">
<h3 id="org56bb208"><span class="section-number-3">2.1</span> About this file</h3>
<div class="outline-text-3" id="text-2-1">
<p>
See <a href="http://sachachua.com/dotemacs">http://sachachua.com/dotemacs</a> for Sacha's great explanations!
From that file:
</p>

<blockquote>
<p>
My <code>~/.emacs.d/init.el</code> is now a symlink to <code>Sacha.el</code>, which is what
<code>M-x org-babel-tangle</code> (<code>C-c C-v t</code>) produces. <b>A note about Org
updates:</b> I like running Org Mode from checked-out source code instead
of package.el. I add the Lisp directories to my <code>load-path</code>, and I
also use the <code>:load-path</code> option in my first <code>use-package org</code> call to
set the load path. One of those is probably doing the trick and the
other one is redundant, but maybe it's a belt-and-suspenders sort of
thing. Using the git checkout also makes upgrading Org easy. All I
have to do is <code>git pull; make</code>, and stuff happens in an external Emacs
process. Since I create <code>Sacha.el</code> via <code>org-babel-tangle</code>, my Emacs
config can load <code>Sacha.el</code> without loading Org first.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org847b4e9" class="outline-3">
<h3 id="org847b4e9"><span class="section-number-3">2.2</span> Starting up</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Here's how we start:
</p>

<div class="org-src-container">
<pre><code class="src src-emacs-lisp"><span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">This sets up the load path so that we can override it</span>
(package-initialize)

<span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">Override the packages with the git version of Org and other packages</span>
(add-to-list 'load-path <span style="color: #2aa198; background-color: #000000;">"~/.emacs.d/elisp/org-mode/lisp"</span>)
(add-to-list 'load-path <span style="color: #2aa198; background-color: #000000;">"~/.emacs.d/elisp/org-mode/contrib/lisp"</span>)
(<span style="color: #859900;">setq</span> package-enable-at-startup nil)
(<span style="color: #859900;">setq</span> custom-file <span style="color: #2aa198; background-color: #000000;">"~/.emacs.d/custom-settings.el"</span>)
(load custom-file t)
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgff3a115" class="outline-3">
<h3 id="orgff3a115"><span class="section-number-3">2.3</span> Personal information</h3>
<div class="outline-text-3" id="text-2-3">
<div class="org-src-container">
<pre><code class="src src-emacs-lisp"><span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">Who am I?</span>
(<span style="color: #859900;">setq</span> user-full-name <span style="color: #2aa198; background-color: #000000;">"Ryan Woodard"</span>
      user-mail-address <span style="color: #2aa198; background-color: #000000;">"ryan@timehaven.org"</span>)
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org23d4e64" class="outline-3">
<h3 id="org23d4e64"><span class="section-number-3">2.4</span> Emacs initialization</h3>
<div class="outline-text-3" id="text-2-4">
</div>
<div id="outline-container-org6f6032a" class="outline-4">
<h4 id="org6f6032a"><span class="section-number-4">2.4.1</span> Add package sources</h4>
<div class="outline-text-4" id="text-2-4-1">
<div class="org-src-container">
<pre><code class="src src-emacs-lisp"><span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">Modern emacs packaging.</span>
(<span style="color: #859900;">unless</span> (assoc-default <span style="color: #2aa198; background-color: #000000;">"melpa"</span> package-archives)
  (add-to-list 'package-archives '(<span style="color: #2aa198; background-color: #000000;">"melpa"</span> . <span style="color: #2aa198; background-color: #000000;">"http://melpa.org/packages/"</span>) t)
  <span style="color: #586e75; font-style: italic;">;;</span><span style="color: #586e75; font-style: italic;">(package-refresh-contents)</span>
)

<span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">(setq package-archives</span>
<span style="color: #586e75; font-style: italic;">;;       </span><span style="color: #586e75; font-style: italic;">'(("GNU ELPA"     . "http://elpa.gnu.org/packages/")</span>
<span style="color: #586e75; font-style: italic;">;;         </span><span style="color: #586e75; font-style: italic;">("MELPA Stable" . "https://stable.melpa.org/packages/")</span>
<span style="color: #586e75; font-style: italic;">;;         </span><span style="color: #586e75; font-style: italic;">("MELPA"        . "https://melpa.org/packages/"))</span>
<span style="color: #586e75; font-style: italic;">;;       </span><span style="color: #586e75; font-style: italic;">package-archive-priorities</span>
<span style="color: #586e75; font-style: italic;">;;       </span><span style="color: #586e75; font-style: italic;">'(("MELPA Stable" . 0)</span>
<span style="color: #586e75; font-style: italic;">;;         </span><span style="color: #586e75; font-style: italic;">("GNU ELPA"     . 5)</span>
<span style="color: #586e75; font-style: italic;">;;         </span><span style="color: #586e75; font-style: italic;">("MELPA"        . 10)))</span>
<span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">(when (not package-archive-contents)</span>
<span style="color: #586e75; font-style: italic;">;;   </span><span style="color: #586e75; font-style: italic;">(package-refresh-contents))</span>
</code></pre>
</div>

<p>
Since it can take long and be annoying at start up, it's commented out
above&#x2026;/but/ use <code>M-x package-refresh-contents</code> to reload the list of
packages after adding these for the first time.
</p>
</div>
</div>

<div id="outline-container-org8dccaca" class="outline-4">
<h4 id="org8dccaca"><span class="section-number-4">2.4.2</span> Add my elisp directory and other files</h4>
<div class="outline-text-4" id="text-2-4-2">
<p>
Sometimes I load files outside the package system. As long as they're
in a directory in my <code>load-path</code>, Emacs can find them.
</p>

<div class="org-src-container">
<pre><code class="src src-emacs-lisp">(add-to-list 'load-path <span style="color: #2aa198; background-color: #000000;">"~/.emacs.d/elisp"</span>)

(<span style="color: #859900;">unless</span> (package-installed-p 'use-package)
  (package-install 'use-package))

(<span style="color: #859900;">setq</span> use-package-verbose t)
(<span style="color: #859900;">setq</span> use-package-always-ensure t)

(<span style="color: #859900;">require</span> '<span style="color: #2aa198;">use-package</span>)

(<span style="color: #859900;">use-package</span> <span style="color: #2aa198;">auto-compile</span>
  <span style="color: #859900;">:config</span> (auto-compile-on-load-mode))

(<span style="color: #859900;">setq</span> load-prefer-newer t)
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org74abbc6" class="outline-4">
<h4 id="org74abbc6"><span class="section-number-4">2.4.3</span> Load secrets</h4>
<div class="outline-text-4" id="text-2-4-3">
<p>
I keep slightly more sensitive information in a separate file so that
I can easily publish my main configuration.
</p>

<div class="org-src-container">
<pre><code class="src src-emacs-lisp">(load <span style="color: #2aa198; background-color: #000000;">"~/.emacs.secrets"</span> t)
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org40a3dc4" class="outline-4">
<h4 id="org40a3dc4"><span class="section-number-4">2.4.4</span> Magit - nice git interface</h4>
<div class="outline-text-4" id="text-2-4-4">
<div class="org-src-container">
<pre><code class="src src-emacs-lisp">(<span style="color: #859900;">use-package</span> <span style="color: #2aa198;">magit</span>)
(global-set-key (kbd <span style="color: #2aa198; background-color: #000000;">"C-x g"</span>) 'magit-status)
(global-set-key (kbd <span style="color: #2aa198; background-color: #000000;">"C-x M-g"</span>) 'magit-dispatch-popup)
(<span style="color: #859900;">setq</span> global-magit-file-mode t)
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org11aa060" class="outline-4">
<h4 id="org11aa060"><span class="section-number-4">2.4.5</span> Mode line format</h4>
<div class="outline-text-4" id="text-2-4-5">
<p>
Display a more compact mode line
</p>

<div class="org-src-container">
<pre><code class="src src-emacs-lisp">(<span style="color: #859900;">use-package</span> <span style="color: #2aa198;">smart-mode-line</span>)
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org0495cbe" class="outline-4">
<h4 id="org0495cbe"><span class="section-number-4">2.4.6</span> Change "yes or no" to "y or n"</h4>
<div class="outline-text-4" id="text-2-4-6">
<p>
Lazy people like me never want to type "yes" when "y" will suffice.
</p>

<div class="org-src-container">
<pre><code class="src src-emacs-lisp">(fset 'yes-or-no-p 'y-or-n-p)
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org2b9d3df" class="outline-4">
<h4 id="org2b9d3df"><span class="section-number-4">2.4.7</span> Minibuffer editing - more space!</h4>
<div class="outline-text-4" id="text-2-4-7">
<p>
Sometimes you want to be able to do fancy things with the text that
you're entering into the minibuffer. Sometimes you just want to be
able to read it, especially when it comes to lots of text.  This binds
<code>C-M-e</code> in a minibuffer) so that you can edit the contents of the
minibuffer before submitting it.
</p>

<div class="org-src-container">
<pre><code class="src src-emacs-lisp">(<span style="color: #859900;">use-package</span> <span style="color: #2aa198;">miniedit</span>
  <span style="color: #859900;">:commands</span> minibuffer-edit
  <span style="color: #859900;">:init</span> (miniedit-install))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org953f213" class="outline-4">
<h4 id="org953f213"><span class="section-number-4">2.4.8</span> Set up a light-on-dark color scheme</h4>
<div class="outline-text-4" id="text-2-4-8">
<p>
I like light on dark because I find it to be more restful. The
color-theme in ELPA was a little odd, though, so we define some advice
to make it work. Some things still aren't quite right.
</p>

<div class="org-src-container">
<pre><code class="src src-emacs-lisp"><span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">(defadvice color-theme-alist (around sacha activate)</span>
<span style="color: #586e75; font-style: italic;">;;   </span><span style="color: #586e75; font-style: italic;">(if (ad-get-arg 0)</span>
<span style="color: #586e75; font-style: italic;">;;       </span><span style="color: #586e75; font-style: italic;">ad-do-it</span>
<span style="color: #586e75; font-style: italic;">;;     </span><span style="color: #586e75; font-style: italic;">nil))</span>
(<span style="color: #859900;">use-package</span> <span style="color: #2aa198;">color-theme</span>)
(<span style="color: #859900;">use-package</span> <span style="color: #2aa198;">color-theme-solarized</span>)
(<span style="color: #859900;">defun</span> <span style="color: #268bd2;">my/setup-color-theme</span> ()
  (<span style="color: #859900;">interactive</span>)
  (color-theme-solarized-dark)
  (set-face-foreground 'secondary-selection <span style="color: #2aa198; background-color: #000000;">"darkblue"</span>)
  (set-face-background 'secondary-selection <span style="color: #2aa198; background-color: #000000;">"lightblue"</span>)
  (set-face-background 'font-lock-doc-face <span style="color: #2aa198; background-color: #000000;">"black"</span>)
  (set-face-foreground 'font-lock-doc-face <span style="color: #2aa198; background-color: #000000;">"wheat"</span>)
  (set-face-background 'font-lock-string-face <span style="color: #2aa198; background-color: #000000;">"black"</span>)
  (set-face-foreground 'org-todo <span style="color: #2aa198; background-color: #000000;">"green"</span>)
  (set-face-background 'org-todo <span style="color: #2aa198; background-color: #000000;">"black"</span>))

(eval-after-load 'color-theme (my/setup-color-theme))
</code></pre>
</div>

<p>
I sometimes need to switch to a lighter background for screenshots.
For that, I use <code>color-theme-vim</code>.
</p>

<p>
Some more tweaks to solarized:
</p>

<div class="org-src-container">
<pre><code class="src src-emacs-lisp">(<span style="color: #859900;">when</span> window-system
  (custom-set-faces
   '(erc-input-face ((t (<span style="color: #859900;">:foreground</span> <span style="color: #2aa198; background-color: #000000;">"antique white"</span>))))
   '(helm-selection ((t (<span style="color: #859900;">:background</span> <span style="color: #2aa198; background-color: #000000;">"ForestGreen"</span> <span style="color: #859900;">:foreground</span> <span style="color: #2aa198; background-color: #000000;">"black"</span>))))
   '(org-agenda-clocking ((t (<span style="color: #859900;">:inherit</span> secondary-selection <span style="color: #859900;">:foreground</span> <span style="color: #2aa198; background-color: #000000;">"black"</span>))) t)
   '(org-agenda-done ((t (<span style="color: #859900;">:foreground</span> <span style="color: #2aa198; background-color: #000000;">"dim gray"</span> <span style="color: #859900;">:strike-through</span> nil))))
   '(org-done ((t (<span style="color: #859900;">:foreground</span> <span style="color: #2aa198; background-color: #000000;">"PaleGreen"</span> <span style="color: #859900;">:weight</span> normal <span style="color: #859900;">:strike-through</span> t))))
   '(org-clock-overlay ((t (<span style="color: #859900;">:background</span> <span style="color: #2aa198; background-color: #000000;">"SkyBlue4"</span> <span style="color: #859900;">:foreground</span> <span style="color: #2aa198; background-color: #000000;">"black"</span>))))
   '(org-headline-done ((((class color) (min-colors 16) (background dark)) (<span style="color: #859900;">:foreground</span> <span style="color: #2aa198; background-color: #000000;">"LightSalmon"</span> <span style="color: #859900;">:strike-through</span> t))))
   '(outline-1 ((t (<span style="color: #859900;">:inherit</span> font-lock-function-name-face <span style="color: #859900;">:foreground</span> <span style="color: #2aa198; background-color: #000000;">"cornflower blue"</span>))))))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgc2707c7" class="outline-4">
<h4 id="orgc2707c7"><span class="section-number-4">2.4.9</span> Some old favorite keys of mine (rw)</h4>
<div class="outline-text-4" id="text-2-4-9">
<div class="org-src-container">
<pre><code class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #2aa198; background-color: #000000;">"&lt;f12&gt;"</span>) 'eval-last-sexp)
</code></pre>
</div>

<p>
For historical reasons, until I change it:
</p>

<div class="org-src-container">
<pre><code class="src src-emacs-lisp"><span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">My stuff.</span>
<span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">Function keys</span>
(add-to-list 'load-path <span style="color: #2aa198; background-color: #000000;">"~/.emacs.d/rw"</span>)
<span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">(load-library "rw_funcs")</span>
(load-library <span style="color: #2aa198; background-color: #000000;">"rw_keys"</span>)
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org6c65623" class="outline-4">
<h4 id="org6c65623"><span class="section-number-4">2.4.10</span> Bells and whistles, and menus</h4>
<div class="outline-text-4" id="text-2-4-10">
<p>
Especially on Mac, audible bell is <b>annoying</b>!
</p>

<div class="org-src-container">
<pre><code class="src src-emacs-lisp">(<span style="color: #859900;">setq</span> visible-bell t)
</code></pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org1ab1f4d" class="outline-2">
<h2 id="org1ab1f4d"><span class="section-number-2">3</span> Just trying things out</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orga73c2bc" class="outline-3">
<h3 id="orga73c2bc"><span class="section-number-3">3.1</span> org mode structure templates (<code>&lt;s</code> things)</h3>
<div class="outline-text-3" id="text-3-1">
<div class="org-src-container">
<pre><code class="src src-emacs-lisp">(<span style="color: #859900;">setq</span> org-structure-template-alist
      '((<span style="color: #2aa198; background-color: #000000;">"s"</span> <span style="color: #2aa198; background-color: #000000;">"#+BEGIN_SRC ?\n\n#+END_SRC"</span> <span style="color: #2aa198; background-color: #000000;">"&lt;src lang=\"?\"&gt;\n\n&lt;/src&gt;"</span>)
        (<span style="color: #2aa198; background-color: #000000;">"e"</span> <span style="color: #2aa198; background-color: #000000;">"#+BEGIN_EXAMPLE\n?\n#+END_EXAMPLE"</span> <span style="color: #2aa198; background-color: #000000;">"&lt;example&gt;\n?\n&lt;/example&gt;"</span>)
        (<span style="color: #2aa198; background-color: #000000;">"q"</span> <span style="color: #2aa198; background-color: #000000;">"#+BEGIN_QUOTE\n?\n#+END_QUOTE"</span> <span style="color: #2aa198; background-color: #000000;">"&lt;quote&gt;\n?\n&lt;/quote&gt;"</span>)
        (<span style="color: #2aa198; background-color: #000000;">"v"</span> <span style="color: #2aa198; background-color: #000000;">"#+BEGIN_VERSE\n?\n#+END_VERSE"</span> <span style="color: #2aa198; background-color: #000000;">"&lt;verse&gt;\n?\n&lt;/verse&gt;"</span>)
        (<span style="color: #2aa198; background-color: #000000;">"c"</span> <span style="color: #2aa198; background-color: #000000;">"#+BEGIN_COMMENT\n?\n#+END_COMMENT"</span>)
        (<span style="color: #2aa198; background-color: #000000;">"p"</span> <span style="color: #2aa198; background-color: #000000;">"#+BEGIN_SRC ipython\n?\n#+END_SRC"</span> <span style="color: #2aa198; background-color: #000000;">"&lt;src lang=\"ipython\"&gt;\n?\n&lt;/src&gt;"</span>)
        <span style="color: #586e75; font-style: italic;">;;</span><span style="color: #586e75; font-style: italic;">("p" "#+BEGIN_PRACTICE\n?\n#+END_PRACTICE")</span>
        (<span style="color: #2aa198; background-color: #000000;">"l"</span> <span style="color: #2aa198; background-color: #000000;">"#+BEGIN_SRC emacs-lisp :tangle yes\n?\n#+END_SRC"</span> <span style="color: #2aa198; background-color: #000000;">"&lt;src lang=\"emacs-lisp\"&gt;\n?\n&lt;/src&gt;"</span>)
        (<span style="color: #2aa198; background-color: #000000;">"L"</span> <span style="color: #2aa198; background-color: #000000;">"#+latex: "</span> <span style="color: #2aa198; background-color: #000000;">"&lt;literal style=\"latex\"&gt;?&lt;/literal&gt;"</span>)
        (<span style="color: #2aa198; background-color: #000000;">"h"</span> <span style="color: #2aa198; background-color: #000000;">"#+BEGIN_HTML\n?\n#+END_HTML"</span> <span style="color: #2aa198; background-color: #000000;">"&lt;literal style=\"html\"&gt;\n?\n&lt;/literal&gt;"</span>)
        (<span style="color: #2aa198; background-color: #000000;">"H"</span> <span style="color: #2aa198; background-color: #000000;">"#+html: "</span> <span style="color: #2aa198; background-color: #000000;">"&lt;literal style=\"html\"&gt;?&lt;/literal&gt;"</span>)
        (<span style="color: #2aa198; background-color: #000000;">"a"</span> <span style="color: #2aa198; background-color: #000000;">"#+BEGIN_ASCII\n?\n#+END_ASCII"</span>)
        (<span style="color: #2aa198; background-color: #000000;">"A"</span> <span style="color: #2aa198; background-color: #000000;">"#+ascii: "</span>)
        (<span style="color: #2aa198; background-color: #000000;">"i"</span> <span style="color: #2aa198; background-color: #000000;">"#+index: ?"</span> <span style="color: #2aa198; background-color: #000000;">"#+index: ?"</span>)
        (<span style="color: #2aa198; background-color: #000000;">"I"</span> <span style="color: #2aa198; background-color: #000000;">"#+include %file ?"</span> <span style="color: #2aa198; background-color: #000000;">"&lt;include file=%file markup=\"?\"&gt;"</span>)))
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="src src-emacs-lisp"><span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">Sacha says: "Since Helm can be a little complex, you may want to</span>
<span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">start with ido-mode instead."</span>
(ido-mode 1)
</code></pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9e10be4" class="outline-2">
<h2 id="org9e10be4"><span class="section-number-2">4</span> Make sure source code packages (org) have latest Info</h2>
<div class="outline-text-2" id="text-4">
<p>
Need to do this again because <code>magit</code> (from <code>elpa</code>) overwrites
previous attempt at this. 
</p>

<div class="org-src-container">
<pre><code class="src src-emacs-lisp">(<span style="color: #859900;">setq</span> Info-directory-list
      (cons (expand-file-name <span style="color: #2aa198; background-color: #000000;">"~/.emacs.d/elisp/org-mode/doc"</span>)
            Info-directory-list))
</code></pre>
</div>
</div>
</div>
<div id="outline-container-org95c3bbd" class="outline-2">
<h2 id="org95c3bbd"><span class="section-number-2">5</span> Python</h2>
<div class="outline-text-2" id="text-5">
<div class="org-src-container">
<pre><code class="src src-emacs-lisp">(<span style="color: #859900;">require</span> '<span style="color: #2aa198;">ob-ipython</span>)
(<span style="color: #859900;">require</span> '<span style="color: #2aa198;">jedi</span>)

(add-hook 'python-mode-hook 'jedi:setup)
(<span style="color: #859900;">setq</span> jedi:complete-on-dot t)

(<span style="color: #859900;">defun</span> <span style="color: #268bd2;">my-org-confirm-babel-evaluate</span> (lang body)
  (not (string= lang <span style="color: #2aa198; background-color: #000000;">"ipython"</span>)))  <span style="color: #586e75; font-style: italic;">; </span><span style="color: #586e75; font-style: italic;">don't ask for ipython</span>
(<span style="color: #859900;">setq</span> org-confirm-babel-evaluate 'my-org-confirm-babel-evaluate)

<span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">Use conda env in shell from which Emacs was started!</span>
<span style="color: #586e75; font-style: italic;">;;</span><span style="color: #586e75; font-style: italic;">(setq ob-ipython-command "~/local/miniconda3/envs/py27/bin/jupyter")</span>

(org-babel-do-load-languages
 'org-babel-load-languages
 '((ipython . t)
   <span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">other languages..</span>
   ))

<span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">don&#8217;t prompt me to confirm everytime I want to evaluate a block</span>
<span style="color: #586e75; font-style: italic;">;;</span><span style="color: #586e75; font-style: italic;">(setq org-confirm-babel-evaluate nil)</span>

<span style="color: #586e75; font-style: italic;">;;; </span><span style="color: #586e75; font-style: italic;">display/update images in the buffer after I evaluate</span>
(add-hook 'org-babel-after-execute-hook 'org-display-inline-images 'append)


<span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">http://kitchingroup.cheme.cmu.edu/blog/2017/01/29/ob-ipython-and-inline-figures-in-org-mode/#disqus_thread</span>
<span style="color: #586e75; font-style: italic;">;; </span><span style="color: #586e75; font-style: italic;">Intermittent silliness!</span>
<span style="color: #586e75; font-style: italic;">;;</span><span style="color: #586e75; font-style: italic;">(require 'cl-lib)  ;; Might be needed with 'loop' error.</span>
(add-to-list 'load-path <span style="color: #2aa198; background-color: #000000;">"~/.emacs.d/elisp/scimax"</span>)
(<span style="color: #859900;">require</span> '<span style="color: #2aa198;">scimax-org-babel-ipython</span>)
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="src src-ipython"><span style="color: #859900;">print</span>(<span style="color: #2aa198; background-color: #000000;">"hi"</span>)
</code></pre>
</div>

<p>
hi
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Ryan Woodard</p>
<p class="date">Created: 2017-04-24 Mon 18:53</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
